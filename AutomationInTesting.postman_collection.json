{
	"info": {
		"_postman_id": "575593b3-88cf-4b88-bd07-d8e218dcafbf",
		"name": "MoT Automation Week API Challenge",
		"description": "Check each response content-type and type/format for each response body item.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "CreateTokenAutomationInTesting",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a318f680-1f50-4ca6-ab57-9d6eff770e10",
								"exec": [
									"pm.test(\"Response Content-Type should be json\", function () {\r",
									"     pm.expect(pm.response.headers.get('Content-Type')).to.eql('application/json; charset=utf-8');\r",
									"});\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"var jsonData = JSON.parse(responseBody);\r",
									"postman.setEnvironmentVariable(\"authToken\", jsonData.token);\r",
									"\r",
									"schema = {\r",
									"    \"$schema\": \"http://json-schema.org/draft-07/schema\",\r",
									"    \"$id\": \"http://example.com/example.json\",\r",
									"    \"type\": \"object\",\r",
									"    \"title\": \"The root schema\",\r",
									"    \"description\": \"The root schema comprises the entire JSON document.\",\r",
									"    \"default\": {},\r",
									"    \"examples\": [\r",
									"        {\r",
									"            \"token\": \"1234a56f78b90cd\"\r",
									"        }\r",
									"    ],\r",
									"    \"required\": [\r",
									"        \"token\"\r",
									"    ],\r",
									"    \"properties\": {\r",
									"        \"token\": {\r",
									"            \"$id\": \"#/properties/token\",\r",
									"            \"type\": \"string\",\r",
									"            \"title\": \"The token schema\",\r",
									"            \"description\": \"An explanation about the purpose of this instance.\",\r",
									"            \"default\": \"\",\r",
									"            \"examples\": [\r",
									"                \"1234a56f78b90cd\"\r",
									"            ]\r",
									"        }\r",
									"    },\r",
									"    \"additionalProperties\": true\r",
									"}\r",
									"\r",
									"\r",
									"pm.test(\"Schema is as expected\", function() {\r",
									"    var response = pm.response.json();\r",
									"    \r",
									"    var result=tv4.validateResult(response, schema)\r",
									"    pm.expect(result.valid).to.be.true;\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\" : \"admin\",\r\n    \"password\" : \"password\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{aitbaseURL}}/auth/login",
							"host": [
								"{{aitbaseURL}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Booking",
			"item": [
				{
					"name": "CreateBooking",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "db03dc03-7666-4f04-86dd-a37a8eb2eb13",
								"exec": [
									"pm.test(\"Response Content-Type should be json\", function () {\r",
									"     pm.expect(pm.response.headers.get('Content-Type')).to.eql('application/json; charset=utf-8');\r",
									"});\r",
									"\r",
									"// This test wail fail as the api status code is wrong\r",
									"// should be a 201 created note 201 Created\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"// This endopoint also allows you to inject XSS into the database and also retrieve it unsanitized\r",
									"// this could be very dangerous, alter the name from the dynamic variable and try:\r",
									"// \"firstname\": \"<script>alert('hello');>\",\r",
									"// when you retrieve this value you'll see it comes back as it was input\r",
									"\r",
									"//updated this to pick up the first array response\r",
									"pm.globals.get(\"variable_key\");\r",
									"var jsonData = JSON.parse(responseBody);\r",
									"pm.environment.set(\"bookingid\", jsonData.bookingid);\r",
									"\r",
									"schema = {\r",
									"    \"$schema\": \"http://json-schema.org/draft-07/schema\",\r",
									"    \"$id\": \"http://example.com/example.json\",\r",
									"    \"type\": \"object\",\r",
									"    \"title\": \"The root schema\",\r",
									"    \"description\": \"The root schema comprises the entire JSON document.\",\r",
									"    \"default\": {},\r",
									"    \"examples\": [\r",
									"        {\r",
									"            \"bookingid\": 3,\r",
									"            \"booking\": {\r",
									"                \"bookingid\": 3,\r",
									"                \"roomid\": 2,\r",
									"                \"firstname\": \"Mike\",\r",
									"                \"lastname\": \"Block\",\r",
									"                \"depositpaid\": false,\r",
									"                \"bookingdates\": {\r",
									"                    \"checkin\": \"2020-10-10\",\r",
									"                    \"checkout\": \"2020-10-17\"\r",
									"                }\r",
									"            }\r",
									"        }\r",
									"    ],\r",
									"    \"required\": [\r",
									"        \"bookingid\",\r",
									"        \"booking\"\r",
									"    ],\r",
									"    \"properties\": {\r",
									"        \"bookingid\": {\r",
									"            \"$id\": \"#/properties/bookingid\",\r",
									"            \"type\": \"integer\",\r",
									"            \"title\": \"The bookingid schema\",\r",
									"            \"description\": \"An explanation about the purpose of this instance.\",\r",
									"            \"default\": 0,\r",
									"            \"examples\": [\r",
									"                3\r",
									"            ]\r",
									"        },\r",
									"        \"booking\": {\r",
									"            \"$id\": \"#/properties/booking\",\r",
									"            \"type\": \"object\",\r",
									"            \"title\": \"The booking schema\",\r",
									"            \"description\": \"An explanation about the purpose of this instance.\",\r",
									"            \"default\": {},\r",
									"            \"examples\": [\r",
									"                {\r",
									"                    \"bookingid\": 3,\r",
									"                    \"roomid\": 2,\r",
									"                    \"firstname\": \"Mike\",\r",
									"                    \"lastname\": \"Block\",\r",
									"                    \"depositpaid\": false,\r",
									"                    \"bookingdates\": {\r",
									"                        \"checkin\": \"2020-10-10\",\r",
									"                        \"checkout\": \"2020-10-17\"\r",
									"                    }\r",
									"                }\r",
									"            ],\r",
									"            \"required\": [\r",
									"                \"bookingid\",\r",
									"                \"roomid\",\r",
									"                \"firstname\",\r",
									"                \"lastname\",\r",
									"                \"depositpaid\",\r",
									"                \"bookingdates\"\r",
									"            ],\r",
									"            \"properties\": {\r",
									"                \"bookingid\": {\r",
									"                    \"$id\": \"#/properties/booking/properties/bookingid\",\r",
									"                    \"type\": \"integer\",\r",
									"                    \"title\": \"The bookingid schema\",\r",
									"                    \"description\": \"An explanation about the purpose of this instance.\",\r",
									"                    \"default\": 0,\r",
									"                    \"examples\": [\r",
									"                        3\r",
									"                    ]\r",
									"                },\r",
									"                \"roomid\": {\r",
									"                    \"$id\": \"#/properties/booking/properties/roomid\",\r",
									"                    \"type\": \"integer\",\r",
									"                    \"title\": \"The roomid schema\",\r",
									"                    \"description\": \"An explanation about the purpose of this instance.\",\r",
									"                    \"default\": 0,\r",
									"                    \"examples\": [\r",
									"                        2\r",
									"                    ]\r",
									"                },\r",
									"                \"firstname\": {\r",
									"                    \"$id\": \"#/properties/booking/properties/firstname\",\r",
									"                    \"type\": \"string\",\r",
									"                    \"title\": \"The firstname schema\",\r",
									"                    \"description\": \"An explanation about the purpose of this instance.\",\r",
									"                    \"default\": \"\",\r",
									"                    \"examples\": [\r",
									"                        \"Mike\"\r",
									"                    ]\r",
									"                },\r",
									"                \"lastname\": {\r",
									"                    \"$id\": \"#/properties/booking/properties/lastname\",\r",
									"                    \"type\": \"string\",\r",
									"                    \"title\": \"The lastname schema\",\r",
									"                    \"description\": \"An explanation about the purpose of this instance.\",\r",
									"                    \"default\": \"\",\r",
									"                    \"examples\": [\r",
									"                        \"Block\"\r",
									"                    ]\r",
									"                },\r",
									"                \"depositpaid\": {\r",
									"                    \"$id\": \"#/properties/booking/properties/depositpaid\",\r",
									"                    \"type\": \"boolean\",\r",
									"                    \"title\": \"The depositpaid schema\",\r",
									"                    \"description\": \"An explanation about the purpose of this instance.\",\r",
									"                    \"default\": false,\r",
									"                    \"examples\": [\r",
									"                        false\r",
									"                    ]\r",
									"                },\r",
									"                \"bookingdates\": {\r",
									"                    \"$id\": \"#/properties/booking/properties/bookingdates\",\r",
									"                    \"type\": \"object\",\r",
									"                    \"title\": \"The bookingdates schema\",\r",
									"                    \"description\": \"An explanation about the purpose of this instance.\",\r",
									"                    \"default\": {},\r",
									"                    \"examples\": [\r",
									"                        {\r",
									"                            \"checkin\": \"2020-10-10\",\r",
									"                            \"checkout\": \"2020-10-17\"\r",
									"                        }\r",
									"                    ],\r",
									"                    \"required\": [\r",
									"                        \"checkin\",\r",
									"                        \"checkout\"\r",
									"                    ],\r",
									"                    \"properties\": {\r",
									"                        \"checkin\": {\r",
									"                            \"$id\": \"#/properties/booking/properties/bookingdates/properties/checkin\",\r",
									"                            \"type\": \"string\",\r",
									"                            \"title\": \"The checkin schema\",\r",
									"                            \"description\": \"An explanation about the purpose of this instance.\",\r",
									"                            \"default\": \"\",\r",
									"                            \"examples\": [\r",
									"                                \"2020-10-10\"\r",
									"                            ]\r",
									"                        },\r",
									"                        \"checkout\": {\r",
									"                            \"$id\": \"#/properties/booking/properties/bookingdates/properties/checkout\",\r",
									"                            \"type\": \"string\",\r",
									"                            \"title\": \"The checkout schema\",\r",
									"                            \"description\": \"An explanation about the purpose of this instance.\",\r",
									"                            \"default\": \"\",\r",
									"                            \"examples\": [\r",
									"                                \"2020-10-17\"\r",
									"                            ]\r",
									"                        }\r",
									"                    },\r",
									"                    \"additionalProperties\": true\r",
									"                }\r",
									"            },\r",
									"            \"additionalProperties\": true\r",
									"        }\r",
									"    },\r",
									"    \"additionalProperties\": true\r",
									"}\r",
									"\r",
									"pm.test(\"Schema is as expected\", function() {\r",
									"    var response = pm.response.json();\r",
									"    \r",
									"    var result=tv4.validateResult(response, schema)\r",
									"    pm.expect(result.valid).to.be.true;\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "b8b630a3-62e0-4169-92dd-922370363776",
								"exec": [
									"//do we want to include a script for POST room here so that our dynamic variables will work and the script will always run?  You cannot re-book the same room twice so re-runing script will fail unless room or dates are updated\r",
									"\r",
									"// Test precondition: At least one room is available, so create one\r",
									"var baseURL = pm.environment.get(\"aitbaseURL\");\r",
									"var requestURL = baseURL + \"/room/\";\r",
									"\r",
									"const echoPostRequest = {\r",
									"    url: requestURL,\r",
									"    method: 'POST',\r",
									"    header: 'Content-Type:application/json',\r",
									"    body: {\r",
									"        mode: 'raw',\r",
									"        raw: JSON.stringify({\r",
									"            \"roomNumber\": pm.environment.get(\"roomNumber\"),\r",
									"            \"type\": pm.environment.get(\"type\"),\r",
									"            \"accessible\": pm.environment.get(\"accessible\"),\r",
									"            \"description\": pm.environment.get(\"description\"),\r",
									"            \"image\": pm.environment.get(\"image\"),\r",
									"            \"roomPrice\": pm.environment.get(\"roomPrice\"),\r",
									"                \"features\": [\r",
									"                            \"WiFi\",\r",
									"                            \"Views\"\r",
									"                            ]\r",
									"                        })\r",
									"            }\r",
									"};\r",
									"\r",
									"\r",
									"//roomid being returned as a null instead of picking up number - how do I fix this? (do I need to parse the response first?)\r",
									"pm.sendRequest(echoPostRequest, function (err, res) {\r",
									"    pm.environment.set(\"roomid\", res.json().roomid);\r",
									"    var logTitle = pm.info.requestName + \" | \" + pm.info.eventName + \":\\n\";\r",
									"    console.log(err ? err : logTitle + JSON.stringify(res.json(), null, 2));\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Cookie",
								"type": "text",
								"value": "token = {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"bookingdates\": {\r\n        \"checkin\": \"{{checkin}}\",\r\n        \"checkout\": \"{{checkout}}\"\r\n    },\r\n    \"depositpaid\": {{$randomBoolean}},\r\n    \"firstname\": \"{{$randomFirstName}}\",\r\n    \"lastname\": \"{{$randomLastName}}\",\r\n    \"roomid\": \"{{roomid}}\",\r\n    \"email\": \"{{$randomEmail}}\",\r\n    \"phone\": \"{{$randomPhoneNumber}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{aitbaseURL}}/booking/",
							"host": [
								"{{aitbaseURL}}"
							],
							"path": [
								"booking",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Booking",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "03299612-01b8-46da-8c3f-82a31f6ca1c3",
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"var jsonData = JSON.parse(responseBody);\r",
									"postman.setEnvironmentVariable(\"bookingid\", jsonData.bookingid);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"bookingdates\": {\r\n        \"checkin\": \"2020-12-17\",\r\n        \"checkout\": \"2020-12-18\"\r\n    },\r\n    \"depositpaid\": false,\r\n    \"firstname\": \"test\",\r\n    \"lastname\": \"person\",\r\n    \"roomid\": {{roomid}},\r\n    \"email\": \"test@test.com\",\r\n    \"phone\": \"12345678910\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{aitbaseURL}}/booking/",
							"host": [
								"{{aitbaseURL}}"
							],
							"path": [
								"booking",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "GetBookingIds",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "34db134c-e0e1-4698-89fe-a71d93961bd3",
								"exec": [
									"pm.test(\"Response Content-Type should be json\", function () {",
									"     pm.expect(pm.response.headers.get('Content-Type')).to.eql('application/json; charset=utf-8');",
									"});",
									"",
									"pm.test(\"Status code should be 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"schema = {",
									"    \"$schema\": \"http://json-schema.org/draft-07/schema\",",
									"    \"$id\": \"http://example.com/example.json\",",
									"    \"type\": \"array\",",
									"    \"title\": \"The root schema\",",
									"    \"description\": \"The root schema comprises the entire JSON document.\",",
									"    \"default\": [],",
									"    \"examples\": [",
									"        [",
									"            {",
									"                \"bookingid\": 1",
									"            },",
									"            {",
									"                \"bookingid\": 2",
									"            }",
									"        ]",
									"    ],",
									"    \"additionalItems\": true,",
									"    \"items\": {",
									"        \"$id\": \"#/items\",",
									"        \"anyOf\": [",
									"            {",
									"                \"$id\": \"#/items/anyOf/0\",",
									"                \"type\": \"object\",",
									"                \"title\": \"The first anyOf schema\",",
									"                \"description\": \"An explanation about the purpose of this instance.\",",
									"                \"default\": {},",
									"                \"examples\": [",
									"                    {",
									"                        \"bookingid\": 1",
									"                    }",
									"                ],",
									"                \"required\": [",
									"                    \"bookingid\"",
									"                ],",
									"                \"properties\": {",
									"                    \"bookingid\": {",
									"                        \"$id\": \"#/items/anyOf/0/properties/bookingid\",",
									"                        \"type\": \"integer\",",
									"                        \"title\": \"The bookingid schema\",",
									"                        \"description\": \"An explanation about the purpose of this instance.\",",
									"                        \"default\": 0,",
									"                        \"examples\": [",
									"                            1",
									"                        ]",
									"                    }",
									"                },",
									"                \"additionalProperties\": true",
									"            }",
									"        ]",
									"    }",
									"}",
									"",
									"pm.test(\"Schema is as expected\", function() {",
									"    var response = pm.response.json();",
									"    ",
									"    var result=tv4.validateResult(response, schema)",
									"    pm.expect(result.valid).to.be.true;",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{aitbaseURL}}/booking",
							"host": [
								"{{aitbaseURL}}"
							],
							"path": [
								"booking"
							]
						}
					},
					"response": []
				},
				{
					"name": "GetBooking",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "41a67603-9abd-4f56-8eb9-55b7a130cd0a",
								"exec": [
									"pm.test(\"Response Content-Type should be json\", function () {",
									"     pm.expect(pm.response.headers.get('Content-Type')).to.eql('application/json; charset=utf-8');",
									"});",
									"",
									"pm.test(\"Status code should be 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"// the below tests check fields  are not null/are required and their types string, boolean etc",
									"// this could be done by contract testing also - I'm not",
									"// precious about this but validating the schema feels quicker to me - perhaps we can discuss this :)?",
									"pm.test(\"Response should contain firstname\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.firstname).to.not.be.null;",
									"    pm.expect(jsonData.firstname).to.be.a('string');",
									"});",
									"",
									"pm.test(\"Response should contain lastname\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.lastname).to.not.be.null;",
									"    pm.expect(jsonData.lastname).to.be.a('string');",
									"});",
									"",
									"pm.test(\"Response should contain depositpaid\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.depositpaid).to.not.be.null;",
									"    pm.expect(jsonData.depositpaid).to.be.a('boolean');",
									"});",
									"",
									"pm.test(\"Response should contain bookingdates.checkin\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.bookingdates.checkin).to.not.be.null;",
									"    pm.expect(jsonData.bookingdates.checkin).to.be.a('string');",
									"});",
									"",
									"pm.test(\"Response should contain bookingdates.checkout\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.bookingdates.checkout).to.not.be.null;",
									"    pm.expect(jsonData.bookingdates.checkout).to.be.a('string');",
									"});",
									"",
									"",
									"schema = {",
									"    \"$schema\": \"http://json-schema.org/draft-07/schema\",",
									"    \"$id\": \"http://example.com/example.json\",",
									"    \"type\": \"object\",",
									"    \"title\": \"The root schema\",",
									"    \"description\": \"The root schema comprises the entire JSON document.\",",
									"    \"default\": {},",
									"    \"examples\": [",
									"        {",
									"            \"firstname\": \"Litzy\",",
									"            \"lastname\": \"Abbott\",",
									"            \"totalprice\": 205,",
									"            \"depositpaid\": true,",
									"            \"bookingdates\": {",
									"                \"checkin\": \"2020-10-09\",",
									"                \"checkout\": \"2020-10-16\"",
									"            },",
									"            \"additionalneeds\": \"Bike\"",
									"        }",
									"    ],",
									"    \"required\": [",
									"        \"firstname\",",
									"        \"lastname\",",
									"        \"totalprice\",",
									"        \"depositpaid\",",
									"        \"bookingdates\",",
									"        \"additionalneeds\"",
									"    ],",
									"    \"properties\": {",
									"        \"firstname\": {",
									"            \"$id\": \"#/properties/firstname\",",
									"            \"type\": \"string\",",
									"            \"title\": \"The firstname schema\",",
									"            \"description\": \"An explanation about the purpose of this instance.\",",
									"            \"default\": \"\",",
									"            \"examples\": [",
									"                \"Litzy\"",
									"            ]",
									"        },",
									"        \"lastname\": {",
									"            \"$id\": \"#/properties/lastname\",",
									"            \"type\": \"string\",",
									"            \"title\": \"The lastname schema\",",
									"            \"description\": \"An explanation about the purpose of this instance.\",",
									"            \"default\": \"\",",
									"            \"examples\": [",
									"                \"Abbott\"",
									"            ]",
									"        },",
									"        \"totalprice\": {",
									"            \"$id\": \"#/properties/totalprice\",",
									"            \"type\": \"integer\",",
									"            \"title\": \"The totalprice schema\",",
									"            \"description\": \"An explanation about the purpose of this instance.\",",
									"            \"default\": 0,",
									"            \"examples\": [",
									"                205",
									"            ]",
									"        },",
									"        \"depositpaid\": {",
									"            \"$id\": \"#/properties/depositpaid\",",
									"            \"type\": \"boolean\",",
									"            \"title\": \"The depositpaid schema\",",
									"            \"description\": \"An explanation about the purpose of this instance.\",",
									"            \"default\": false,",
									"            \"examples\": [",
									"                true",
									"            ]",
									"        },",
									"        \"bookingdates\": {",
									"            \"$id\": \"#/properties/bookingdates\",",
									"            \"type\": \"object\",",
									"            \"title\": \"The bookingdates schema\",",
									"            \"description\": \"An explanation about the purpose of this instance.\",",
									"            \"default\": {},",
									"            \"examples\": [",
									"                {",
									"                    \"checkin\": \"2020-10-09\",",
									"                    \"checkout\": \"2020-10-16\"",
									"                }",
									"            ],",
									"            \"required\": [",
									"                \"checkin\",",
									"                \"checkout\"",
									"            ],",
									"            \"properties\": {",
									"                \"checkin\": {",
									"                    \"$id\": \"#/properties/bookingdates/properties/checkin\",",
									"                    \"type\": \"string\",",
									"                    \"title\": \"The checkin schema\",",
									"                    \"description\": \"An explanation about the purpose of this instance.\",",
									"                    \"default\": \"\",",
									"                    \"examples\": [",
									"                        \"2020-10-09\"",
									"                    ]",
									"                },",
									"                \"checkout\": {",
									"                    \"$id\": \"#/properties/bookingdates/properties/checkout\",",
									"                    \"type\": \"string\",",
									"                    \"title\": \"The checkout schema\",",
									"                    \"description\": \"An explanation about the purpose of this instance.\",",
									"                    \"default\": \"\",",
									"                    \"examples\": [",
									"                        \"2020-10-16\"",
									"                    ]",
									"                }",
									"            },",
									"            \"additionalProperties\": true",
									"        },",
									"        \"additionalneeds\": {",
									"            \"$id\": \"#/properties/additionalneeds\",",
									"            \"type\": \"string\",",
									"            \"title\": \"The additionalneeds schema\",",
									"            \"description\": \"An explanation about the purpose of this instance.\",",
									"            \"default\": \"\",",
									"            \"examples\": [",
									"                \"Bike\"",
									"            ]",
									"        }",
									"    },",
									"    \"additionalProperties\": true",
									"}",
									"",
									"",
									"pm.test(\"Schema is as expected\", function() {",
									"    var response = pm.response.json();",
									"    ",
									"    var result=tv4.validateResult(response, schema)",
									"    pm.expect(result.valid).to.be.true;",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "e8949bb2-5db2-4101-a58c-59557f839ebe",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{aitbaseURL}}/booking/{{bookingid}}",
							"host": [
								"{{aitbaseURL}}"
							],
							"path": [
								"booking",
								"{{bookingid}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "UpdateBooking",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e88b1910-a99e-43ea-a1b5-bc342ee1cbf8",
								"exec": [
									"//insert a pre-request script to generate a booking first"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "bab61348-8ca4-4333-85fe-f509791426aa",
								"exec": [
									"pm.test(\"Response Content-Type should be json\", function () {",
									"     pm.expect(pm.response.headers.get('Content-Type')).to.eql('application/json; charset=utf-8');",
									"});",
									"",
									"pm.test(\"Status code should be 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"// consider replacing the below checks with contract schema test similar to previous request tests?"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Cookie",
								"value": "token={{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "",
								"value": "",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"bookingdates\": {\n        \"checkin\": \"{{checkin}}\",\n        \"checkout\": \"{{checkout}}\"\n    },\n    \"depositpaid\": {{$randomBoolean}},\n    \"firstname\": \"{{$randomFirstName}}\",\n    \"lastname\": \"{{$randomLastName}}\",\n    \"roomid\": \"{{roomid}}\",\n    \"email\": \"{{$randomEmail}}\",\n    \"phone\": \"{{$randomPhoneNumber}}\"\n}"
						},
						"url": {
							"raw": "{{aitbaseURL}}/booking/{{bookingid}}",
							"host": [
								"{{aitbaseURL}}"
							],
							"path": [
								"booking",
								"{{bookingid}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "DeleteBooking",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "40585d2d-d578-4b16-bb02-a08dd98be4e0",
								"exec": [
									"// Test precondition: At least one booking exists, so create one",
									"var baseURL = pm.environment.get(\"aitbaseURL\");",
									"var requestURL = baseURL + \"/booking\";",
									"",
									"const echoPostRequest = {",
									"    url: requestURL,",
									"    method: 'POST',",
									"    header: 'Content-Type:application/json',",
									"    body: {",
									"        mode: 'raw',",
									"        raw: JSON.stringify({",
									"            \"firstname\": pm.environment.get(\"firstname\"),",
									"            \"lastname\": pm.environment.get(\"lastname\"),",
									"            \"totalprice\": pm.environment.get(\"totalprice\"),",
									"            \"depositpaid\": pm.environment.get(\"depositpaid\"),",
									"            \"bookingdates\": {",
									"                \"checkin\": pm.environment.get(\"checkin\"),",
									"                \"checkout\": pm.environment.get(\"checkout\")",
									"            },",
									"            \"additionalneeds\": pm.environment.get(\"additionalneeds\")",
									"        })",
									"    }",
									"};",
									"",
									"pm.sendRequest(echoPostRequest, function (err, res) {",
									"    pm.environment.set(\"bookingid\", res.json().bookingid);",
									"    var logTitle = pm.info.requestName + \" | \" + pm.info.eventName + \":\\n\";",
									"    console.log(err ? err : logTitle + JSON.stringify(res.json(), null, 2));",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "500e9b59-6811-41c7-a30d-b54dad1a8327",
								"exec": [
									"pm.test(\"Response Content-Type should be json\", function () {",
									"     pm.expect(pm.response.headers.get('Content-Type')).to.eql('text/plain; charset=utf-8');",
									"});",
									"",
									"var url = pm.environment.get(\"aitbaseURL\") + \"/booking\" +  pm.environment.get(\"bookingid\");",
									"",
									"const getRequest = {",
									"        url: url,",
									"        method: 'GET'",
									"};",
									"",
									"pm.sendRequest(getRequest, function (err, res) {",
									"    if (err) { ",
									"        console.log(err);",
									"    }",
									"    ",
									"    console.log(res);",
									"    ",
									"    pm.test('Response should be Not Found', function () {",
									"        pm.expect(res.status).to.include(\"Not Found\");",
									"    });",
									"    ",
									"    pm.test(\"Response code 404\", function() {",
									"        pm.expect(res.code).to.equal(404);",
									"    })",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "password123",
									"type": "string"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Cookie",
								"value": "token={{authToken}}"
							}
						],
						"url": {
							"raw": "{{aitbaseURL}}/booking/{{bookingid}}",
							"host": [
								"{{aitbaseURL}}"
							],
							"path": [
								"booking",
								"{{bookingid}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "PartialUpdateBooking",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Cookie",
								"value": "token={{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"firstname\" : \"{{$randomFirstName}}\",\n    \"lastname\" : \"{{$randomLastName}}\"\n}"
						},
						"url": {
							"raw": "{{aitbaseURL}}/booking/1",
							"host": [
								"{{aitbaseURL}}"
							],
							"path": [
								"booking",
								"1"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "81b8db6d-2a3b-446c-af77-0d18bcdec5b1",
						"type": "text/javascript",
						"exec": [
							"// var baseURL = pm.environment.get(\"baseURL\");",
							"// var requestURL = baseURL + \"/auth\";",
							"",
							"// const echoPostRequest = {",
							"//     url: requestURL,",
							"//     method: 'POST',",
							"//     header: 'Content-Type:application/json',",
							"//     body: {",
							"//         mode: 'raw',",
							"//         raw: JSON.stringify({",
							"//             \"username\": \"admin\",",
							"//             \"password\": \"password123\"",
							"//         })",
							"//     }",
							"// };",
							"",
							"// pm.sendRequest(echoPostRequest, function (err, res) {",
							"//     pm.environment.set(\"token\", res.json().token);",
							"//     var logTitle = pm.info.requestName + \" | \" + pm.info.eventName + \":\\n\";",
							"//     console.log(err ? err : logTitle + JSON.stringify(res.json(), null, 2));",
							"// });"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "0755ea4a-d110-4dc3-8ece-88cba0ddf3a5",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Branding",
			"item": [
				{
					"name": "GetBranding",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fb0893b5-eede-4aa2-a543-14925a818a85",
								"exec": [
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"\r",
									"// API Contract test to validate schema\r",
									"// To generate the below schema, send this request and then copy and paste the \r",
									"// response body into the following website https://jsonschema.net/home\r",
									"// Next copy the generated JSON schema into the below schema :-)\r",
									"schema = {\r",
									"    \"default\": {},\r",
									"    \"description\": \"The root schema comprises the entire JSON document.\",\r",
									"    \"required\": [\r",
									"        \"name\",\r",
									"        \"map\",\r",
									"        \"logoUrl\",\r",
									"        \"description\",\r",
									"        \"contact\"\r",
									"    ],\r",
									"    \"title\": \"The root schema\",\r",
									"    \"properties\": {\r",
									"        \"name\": {\r",
									"            \"$id\": \"#/properties/name\",\r",
									"            \"type\": \"string\",\r",
									"            \"title\": \"The name schema\",\r",
									"            \"description\": \"An explanation about the purpose of this instance.\",\r",
									"            \"default\": \"\",\r",
									"            \"examples\": [\r",
									"                \"Shady Meadows B&B\"\r",
									"            ]\r",
									"        },\r",
									"        \"map\": {\r",
									"            \"$id\": \"#/properties/map\",\r",
									"            \"type\": \"object\",\r",
									"            \"title\": \"The map schema\",\r",
									"            \"description\": \"An explanation about the purpose of this instance.\",\r",
									"            \"default\": {},\r",
									"            \"examples\": [\r",
									"                {\r",
									"                    \"latitude\": 52.6351204,\r",
									"                    \"longitude\": 1.2733774\r",
									"                }\r",
									"            ],\r",
									"            \"required\": [\r",
									"                \"latitude\",\r",
									"                \"longitude\"\r",
									"            ],\r",
									"            \"properties\": {\r",
									"                \"latitude\": {\r",
									"                    \"$id\": \"#/properties/map/properties/latitude\",\r",
									"                    \"type\": \"number\",\r",
									"                    \"title\": \"The latitude schema\",\r",
									"                    \"description\": \"An explanation about the purpose of this instance.\",\r",
									"                    \"default\": 0.0,\r",
									"                    \"examples\": [\r",
									"                        52.6351204\r",
									"                    ]\r",
									"                },\r",
									"                \"longitude\": {\r",
									"                    \"$id\": \"#/properties/map/properties/longitude\",\r",
									"                    \"type\": \"number\",\r",
									"                    \"title\": \"The longitude schema\",\r",
									"                    \"description\": \"An explanation about the purpose of this instance.\",\r",
									"                    \"default\": 0.0,\r",
									"                    \"examples\": [\r",
									"                        1.2733774\r",
									"                    ]\r",
									"                }\r",
									"            },\r",
									"            \"additionalProperties\": true\r",
									"        },\r",
									"        \"logoUrl\": {\r",
									"            \"$id\": \"#/properties/logoUrl\",\r",
									"            \"type\": \"string\",\r",
									"            \"title\": \"The logoUrl schema\",\r",
									"            \"description\": \"An explanation about the purpose of this instance.\",\r",
									"            \"default\": \"\",\r",
									"            \"examples\": [\r",
									"                \"https://www.mwtestconsultancy.co.uk/img/rbp-logo.png\"\r",
									"            ]\r",
									"        },\r",
									"        \"description\": {\r",
									"            \"$id\": \"#/properties/description\",\r",
									"            \"type\": \"string\",\r",
									"            \"title\": \"The description schema\",\r",
									"            \"description\": \"An explanation about the purpose of this instance.\",\r",
									"            \"default\": \"\",\r",
									"            \"examples\": [\r",
									"                \"Welcome to Shady Meadows, a delightful Bed & Breakfast nestled in the hills on Newingtonfordburyshire. A place so beautiful you will never want to leave. All our rooms have comfortable beds and we provide breakfast from the locally sourced supermarket. It is a delightful place.\"\r",
									"            ]\r",
									"        },\r",
									"        \"contact\": {\r",
									"            \"$id\": \"#/properties/contact\",\r",
									"            \"type\": \"object\",\r",
									"            \"title\": \"The contact schema\",\r",
									"            \"description\": \"An explanation about the purpose of this instance.\",\r",
									"            \"default\": {},\r",
									"            \"examples\": [\r",
									"                {\r",
									"                    \"name\": \"Shady Meadows B&B\",\r",
									"                    \"address\": \"The Old Farmhouse, Shady Street, Newfordburyshire, NE1 410S\",\r",
									"                    \"phone\": \"012345678901\",\r",
									"                    \"email\": \"fake@fakeemail.com\"\r",
									"                }\r",
									"            ],\r",
									"            \"required\": [\r",
									"                \"name\",\r",
									"                \"address\",\r",
									"                \"phone\",\r",
									"                \"email\"\r",
									"            ],\r",
									"            \"properties\": {\r",
									"                \"name\": {\r",
									"                    \"$id\": \"#/properties/contact/properties/name\",\r",
									"                    \"type\": \"string\",\r",
									"                    \"title\": \"The name schema\",\r",
									"                    \"description\": \"An explanation about the purpose of this instance.\",\r",
									"                    \"default\": \"\",\r",
									"                    \"examples\": [\r",
									"                        \"Shady Meadows B&B\"\r",
									"                    ]\r",
									"                },\r",
									"                \"address\": {\r",
									"                    \"$id\": \"#/properties/contact/properties/address\",\r",
									"                    \"type\": \"string\",\r",
									"                    \"title\": \"The address schema\",\r",
									"                    \"description\": \"An explanation about the purpose of this instance.\",\r",
									"                    \"default\": \"\",\r",
									"                    \"examples\": [\r",
									"                        \"The Old Farmhouse, Shady Street, Newfordburyshire, NE1 410S\"\r",
									"                    ]\r",
									"                },\r",
									"                \"phone\": {\r",
									"                    \"$id\": \"#/properties/contact/properties/phone\",\r",
									"                    \"type\": \"string\",\r",
									"                    \"title\": \"The phone schema\",\r",
									"                    \"description\": \"An explanation about the purpose of this instance.\",\r",
									"                    \"default\": \"\",\r",
									"                    \"examples\": [\r",
									"                        \"012345678901\"\r",
									"                    ]\r",
									"                },\r",
									"                \"email\": {\r",
									"                    \"$id\": \"#/properties/contact/properties/email\",\r",
									"                    \"type\": \"string\",\r",
									"                    \"title\": \"The email schema\",\r",
									"                    \"description\": \"An explanation about the purpose of this instance.\",\r",
									"                    \"default\": \"\",\r",
									"                    \"examples\": [\r",
									"                        \"fake@fakeemail.com\"\r",
									"                    ]\r",
									"                }\r",
									"            },\r",
									"            \"additionalProperties\": true\r",
									"        }\r",
									"    },\r",
									"    \"additionalProperties\": true\r",
									"}\r",
									"\r",
									"pm.test(\"Schema is as expected\", function() {\r",
									"    var response = pm.response.json();\r",
									"    \r",
									"    var result=tv4.validateResult(response, schema)\r",
									"    pm.expect(result.valid).to.be.true;\r",
									"});\r",
									"\r",
									"pm.test(\"Response body values are as expected\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"   \r",
									"    pm.expect(jsonData.name).to.equal(\"Shady Meadows B&B\")\r",
									"    pm.expect(jsonData.map.latitude).to.equal(52.6351204)\r",
									"    pm.expect(jsonData.map.longitude).to.equal(1.2733774)\r",
									"    pm.expect(jsonData.logoUrl).to.equal(\"https://www.mwtestconsultancy.co.uk/img/rbp-logo.png\")\r",
									"    pm.expect(jsonData.description).to.equal(\"Welcome to Shady Meadows, a delightful Bed & Breakfast nestled in the hills on Newingtonfordburyshire. A place so beautiful you will never want to leave. All our rooms have comfortable beds and we provide breakfast from the locally sourced supermarket. It is a delightful place.\")\r",
									"    \r",
									"    pm.expect(jsonData.contact.name).to.equal(\"Shady Meadows B&B\")\r",
									"    pm.expect(jsonData.contact.address).to.equal(\"The Old Farmhouse, Shady Street, Newfordburyshire, NE1 410S\")\r",
									"    pm.expect(jsonData.contact.phone).to.equal(\"012345678901\")\r",
									"    pm.expect(jsonData.contact.email).to.equal(\"fake@fakeemail.com\")\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automationintesting.online/branding/",
							"protocol": "https",
							"host": [
								"automationintesting",
								"online"
							],
							"path": [
								"branding",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "UpdateBranding",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2b7578e3-25a1-471d-ac26-55a4965fe06e",
								"exec": [
									"pm.test(\"Status code is 202\", function () {\r",
									"    pm.response.to.have.status(202);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"user-agent": true,
							"accept-encoding": true,
							"connection": true
						}
					},
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Cookie",
								"value": "token={{authToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"Shady Meadows B&B\",\r\n    \"map\": {\r\n        \"latitude\": \"46.187573\",\r\n        \"longitude\": \"-123.832640\"\r\n    },\r\n    \"logoUrl\": \"https://www.mwtestconsultancy.co.uk/img/rbp-logo.png\",\r\n    \"description\": \"Welcome to The Goonies House, a delightful Bed & Breakfast nestled in the hills of Astoria, Oregon. A place so beautiful you will never want to leave. All our rooms have comfortable beds and we provide breakfast from the locally sourced supermarket. It is a delightful place.\",\r\n    \"contact\": {\r\n        \"name\": \"Shady Meadows B&B\",\r\n        \"address\": \"The Old Farmhouse, Shady Street, Newfordburyshire, NE1 410S\",\r\n        \"phone\": \"012345678901\",\r\n        \"email\": \"fake@fakeemail.com\"\r\n    }\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://automationintesting.online/branding/",
							"protocol": "https",
							"host": [
								"automationintesting",
								"online"
							],
							"path": [
								"branding",
								""
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Report",
			"item": [
				{
					"name": "Report",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "468a015e-b70b-4dad-b92c-dc4f91a991db",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automationintesting.online/report/",
							"protocol": "https",
							"host": [
								"automationintesting",
								"online"
							],
							"path": [
								"report",
								""
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Messaging",
			"item": [
				{
					"name": "Message",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "69155a07-d1d4-4534-bfc4-0889c7f6fdcf",
								"exec": [
									"var jsonData = JSON.parse(responseBody);\r",
									"postman.setEnvironmentVariable(\"messageid\", jsonData.messageid);\r",
									"\r",
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"test\",\r\n    \"email\": \"test@test.com\",\r\n    \"phone\": \"07797998887\",\r\n    \"subject\": \"test message\",\r\n    \"description\": \"test message your hotel is awesome\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://automationintesting.online/message/",
							"protocol": "https",
							"host": [
								"automationintesting",
								"online"
							],
							"path": [
								"message",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "MessageRead",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7a5210b3-8b66-4a2a-9f2c-67f99aaca705",
								"exec": [
									"pm.test(\"Status code is 202\", function () {\r",
									"    pm.response.to.have.status(202);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Cookie",
								"value": "token={{authToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "https://automationintesting.online/message/{{messageid}}/read",
							"protocol": "https",
							"host": [
								"automationintesting",
								"online"
							],
							"path": [
								"message",
								"{{messageid}}",
								"read"
							]
						}
					},
					"response": []
				},
				{
					"name": "Message",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d8a64b66-79d2-4165-85d9-9d455c98bcf9",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automationintesting.online/message/{{messageid}}",
							"protocol": "https",
							"host": [
								"automationintesting",
								"online"
							],
							"path": [
								"message",
								"{{messageid}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Messages",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6882ac43-52d9-4064-9186-13417f6b7167",
								"exec": [
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"var messageId = pm.environment.get(\"messageid\")\r",
									"\r",
									"var data = JSON.parse(responseBody);\r",
									"tests[\"posted message has been read\"] = data.messages[messageId -1].read === true;\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automationintesting.online/message/",
							"protocol": "https",
							"host": [
								"automationintesting",
								"online"
							],
							"path": [
								"message",
								""
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Room",
			"item": [
				{
					"name": "Room",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c8214d51-9a53-4a87-83b9-c23c0b6d0794",
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Cookie",
								"value": "",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{aitbaseURL}}/room/",
							"host": [
								"{{aitbaseURL}}"
							],
							"path": [
								"room",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Room",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": ""
						}
					},
					"response": []
				},
				{
					"name": "Room",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7fe45b76-25cc-47ae-9ec9-a45724e390f4",
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"var jsonData = JSON.parse(responseBody);\r",
									"postman.setEnvironmentVariable(\"roomid\", jsonData.roomid);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "13d972d4-1b65-4663-a8d9-4769276f5f74",
								"exec": [
									"//using Lodash module to set min and max numbers to be used for room number and price\r",
									"\r",
									"pm.environment.set(\"random_number\", _.random(2, 999))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Cookie",
								"value": "token = {{authToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"roomNumber\": \"{{random_number}}\",\r\n    \"type\": \"Single\",\r\n    \"accessible\": \"true\",\r\n    \"description\": \"Please enter a description for this room\",\r\n    \"image\": \"https://www.mwtestconsultancy.co.uk/img/room1.jpg\",\r\n    \"roomPrice\": \"{{random_number}}\",\r\n    \"features\": [\r\n        \"WiFi\",\r\n        \"Views\"\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{aitbaseURL}}/room/",
							"host": [
								"{{aitbaseURL}}"
							],
							"path": [
								"room",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Room",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "407503b1-c46f-4897-9ced-87b394cd1c26",
								"exec": [
									"pm.test(\"Status code is 202\", function () {\r",
									"    pm.response.to.have.status(202);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Cookie",
								"value": "token = {{authToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{aitbaseURL}}/room/{{roomid}}",
							"host": [
								"{{aitbaseURL}}"
							],
							"path": [
								"room",
								"{{roomid}}"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "6c14bea7-2e27-462a-bc1e-4d88913bd0dd",
				"type": "text/javascript",
				"exec": [
					"var dateNow = new Date();",
					"pm.environment.set(\"checkin\", dateNow.toISOString().split('T')[0]);",
					"pm.environment.set(\"checkout\",  new Date(dateNow.setDate(dateNow.getDate() + 7)).toISOString().split('T')[0]);",
					"",
					"",
					"function generateRandomInteger(min, max) {",
					"  return Math.floor(min + Math.random()*(max + 1 - min))",
					"}",
					"",
					"pm.environment.set(\"totalprice\", generateRandomInteger(100,250));",
					"",
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "2f1710cc-742e-4540-9c9b-8c9581b8296a",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "ec461322-0b90-4f45-8a19-ed2c5907b033",
			"key": "checkin",
			"value": ""
		},
		{
			"id": "eae22d30-6df1-4651-a7b7-3d7bcb5a0d4e",
			"key": "checkout",
			"value": ""
		},
		{
			"id": "a89d814b-2dcf-4939-a5f9-0d2bc400ce0e",
			"key": "totalpaid",
			"value": ""
		},
		{
			"id": "ea70b023-03fb-484e-907f-d7b15d01e325",
			"key": "totalprice",
			"value": ""
		}
	],
	"protocolProfileBehavior": {}
}